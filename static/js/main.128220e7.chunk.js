(this["webpackJsonplun-page"]=this["webpackJsonplun-page"]||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),i=n.n(c),o=n(13),s=n.n(o),r=n(81),l=n(15),d=n(149),j="#001514",m="#f6f8ff",u="#252422",b="#e6757d",h=n(11),f=n(117),p=n(160),O=n(163),g=n(155),x=n(158),v=n(162),y=n(80),S=n.n(y),N=n(79),w=n.n(N),k=n(12),T=n.n(k),Y=function(e){return localStorage.hasOwnProperty("onetime_events")&&JSON.parse(localStorage.getItem("onetime_events"))[e]||[]},B=function(){if(!localStorage.hasOwnProperty("onetime_events"))return[0,0,0,0,0,0,0];for(var e=T()(),t=[],n=JSON.parse(localStorage.getItem("onetime_events")),a=0;a<7;a++){var c=n[e.format("YYYY-MM-DD")];t.push(c?c.length:0),e.add(1,"days")}return t},I=n(83),M=n(151),z=n(161),D=n(154),C=n(164),P=n(157),_=n(77),R=n.n(_),J=n(82),H=n(19),L=n(159),A=Object(I.a)({palette:{secondary:{main:m},primary:{main:u}}}),E=Object(d.a)({modal:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},paper:{marginTop:"-10vh",width:"35%",maxHeight:"80vh",padding:24,background:j,border:"1px solid ".concat(m)},timePicker:{width:"100%","& input":{color:m,padding:12,fontSize:20,paddingLeft:0}},title:{fontSize:30,color:m,marginBottom:16},inputTitle:{fontSize:20,color:m,marginBottom:8},inputBase:{color:m,fontSize:16,padidng:12,width:"100%",borderBottom:"1px solid ".concat(m)},block:{marginBottom:24},buttons:{marginTop:36,display:"flex",justifyContent:"flex-end"},iconButton:{"&:hover":{background:u}},snackbar:{borderRadius:5,"& div":{background:b,padding:"8px 20px",fontSize:20}}});var F=function(e){var t=E(),n=e.modalOpen,i=e.setModalOpen,o=e.onAdd,s=Object(c.useState)(T()()),r=Object(h.a)(s,2),l=r[0],d=r[1],j=Object(c.useState)(""),u=Object(h.a)(j,2),p=u[0],O=u[1],g=Object(c.useState)(""),y=Object(h.a)(g,2),S=y[0],N=y[1],w=Object(c.useState)(),k=Object(h.a)(w,2),Y=k[0],B=k[1],I=Object(c.useState)(!1),_=Object(h.a)(I,2),F=_[0],G=_[1],K=Object(c.useState)(""),U=Object(h.a)(K,2),W=U[0],q=U[1];Object(c.useEffect)((function(){n&&(d(T()()),B(T()()))}),[n]);var Q=function(){d(T()()),O(""),N(""),i(!1)};return Object(a.jsxs)(M.a,{theme:A,children:[Object(a.jsx)(z.a,{className:t.modal,open:n,onClose:function(){return i(!1)},children:Object(a.jsxs)(D.a,{className:t.paper,children:[Object(a.jsx)(f.a,{className:t.title,children:"\u6dfb\u52a0\u4e00\u6b21\u6027\u4e8b\u52a1"}),Object(a.jsxs)("div",{className:t.block,children:[Object(a.jsx)(f.a,{className:t.inputTitle,children:"\u6807\u9898"}),Object(a.jsx)(C.a,{value:p,placeholder:"\u5fc5\u586b\uff0c\u4e0d\u8d85\u8fc730\u5b57",onChange:function(e){e.target.value.length<=30&&O(e.target.value)},className:t.inputBase})]}),Object(a.jsxs)("div",{className:t.block,children:[Object(a.jsx)(f.a,{className:t.inputTitle,children:"\u5907\u6ce8"}),Object(a.jsx)(C.a,{value:S,placeholder:"\u5fc5\u586b\uff0c\u4e0d\u8d85\u8fc7200\u5b57",onChange:function(e){e.target.value.length<=200&&N(e.target.value)},className:t.inputBase,multiline:!0,rows:4})]}),Object(a.jsxs)("div",{className:t.block,children:[Object(a.jsx)(f.a,{className:t.inputTitle,children:"\u65f6\u95f4"}),Object(a.jsx)(H.a,{utils:J.a,children:Object(a.jsx)(L.a,{className:t.timePicker,value:l,ampm:!1,onChange:d,minDate:Y,format:"yyyy \u5e74 MM \u6708 dd \u65e5  HH \u65f6 mm \u5206",allowKeyboardControl:!1,InputProps:{endAdornment:Object(a.jsx)(P.a,{position:"end",style:{marginLeft:0},children:Object(a.jsx)(x.a,{className:t.iconButton,style:{padding:0,width:32,height:32},children:Object(a.jsx)(R.a,{style:{width:24,height:24,color:m}})})}),disableUnderline:!0}})})]}),Object(a.jsxs)("div",{className:t.buttons,children:[""!==p.trim()&&""!==S.trim()&&Object(a.jsx)(x.a,{onClick:function(){var e={};localStorage.hasOwnProperty("onetime_events")&&(e=JSON.parse(localStorage.getItem("onetime_events")));var t=T()(l).format("YYYY-MM-DD"),n={time:T()(l).format("YYYY-MM-DD HH:mm"),description:S,title:p};e[t]?e[t].push(n):e[t]=[n],localStorage.setItem("onetime_events",JSON.stringify(e)),q("\u4e8b\u52a1\u201c".concat(p,"\u201d\u521b\u5efa\u6210\u529f\uff0c")+"\u7ea6".concat(T()(l).utc().diff(T()().utc(),"hours")>=24?Math.floor(T()(l).diff(T()(),"hours")/24)+"\u5929":"")+"".concat(T()(l).utc().diff(T()().utc(),"hours")%24,"\u5c0f\u65f6")+"".concat(T()(l).utc().diff(T()().utc(),"minutes")%60,"\u5206\u949f\u540e\u5f00\u59cb")),G(!0),setTimeout((function(){G(!1)}),6e3),o&&o(),Q()},className:t.iconButton,style:{borderRadius:3,padding:"3px 12px",marginRight:12},children:Object(a.jsx)(f.a,{style:{fontSize:24,color:b},children:"\u786e\u5b9a"})}),Object(a.jsx)(x.a,{onClick:Q,className:t.iconButton,style:{borderRadius:3,padding:"3px 12px"},children:Object(a.jsx)(f.a,{style:{fontSize:24,color:m},children:"\u53d6\u6d88"})})]})]})}),Object(a.jsx)(v.a,{className:t.snackbar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:F,message:W})]})},G=Object(d.a)({timeSection:{paddingTop:"2.5%",height:"97.5%",display:"flex",flexDirection:"column",alignItems:"center"},timeText:{fontSize:80,letterSpacing:10,color:m,height:93},timeBlock:{display:"flex",alignItems:"flex-end"},timeSubText:{fontSize:42,color:m,marginRight:8},monthText:{fontSize:36,latterSpacing:5,color:m},calender:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},tabIndicator:{background:m},tab:{minWidth:70,"&:hover":{background:u}},popper:{"& div":{background:u,padding:8}},toolTipText:{fontSize:13.75,color:m},eventsSection:{marginTop:30,width:"100%",flexGrow:1,overflow:"scroll","&::-webkit-scrollbar":{width:0}},badge:{width:10,height:10,borderRadius:5,flexShrink:0,marginLeft:-3,marginTop:-6},eventListItem:{display:"flex",alignItems:"center",cursor:"pointer",padding:12,borderBottom:"1px solid ".concat(u),"&:hover":{background:u}},addEventButton:{width:"100%",height:"20%",display:"flex",justifyContent:"center",alignItems:"flex-start"},deleteIconButton:{"&:hover":{background:b}},snackbar:{borderRadius:5,"& div":{background:b,padding:"8px 20px",fontSize:20}}}),K=function(e){return 1===(e+"").length?"0"+e:e+""},U=function(e){if(!e)return[];for(var t=e.day(),n=[],a=function(e){switch(e%7){case 0:return"\u65e5";case 1:return"\u4e00";case 2:return"\u4e8c";case 3:return"\u4e09";case 4:return"\u56db";case 5:return"\u4e94";case 6:return"\u516d";default:return""}},c=0;c<7;c++)n[c]={name:a(c+t),date:T()().add(c,"days").date(),fullDate:T()().add(c,"days").format("YYYY\u5e74MM\u6708DD\u65e5")};return n};var W=function(e){var t=G(),n=Object(c.useState)(T()()),i=Object(h.a)(n,2),o=i[0],s=i[1],r=Object(c.useState)(0),l=Object(h.a)(r,2),d=l[0],j=l[1],u=Object(c.useState)([]),y=Object(h.a)(u,2),N=y[0],k=y[1],I=Object(c.useState)([0,0,0,0,0,0,0]),M=Object(h.a)(I,2),z=M[0],D=M[1],C=Object(c.useState)(!1),P=Object(h.a)(C,2),_=P[0],R=P[1],J=Object(c.useState)(!1),H=Object(h.a)(J,2),L=H[0],A=H[1],E=Object(c.useState)(""),W=Object(h.a)(E,2),q=W[0],Q=W[1];Object(c.useEffect)((function(){D(B()),k(Y(T()().add(0,"days").format("YYYY-MM-DD"))),setInterval((function(){var e=T()();s(e)}),[500])}),[]);var V,X=function(){k(Y(T()().add(d,"days").format("YYYY-MM-DD"))),D(B())},Z=function(e){!function(e){if(localStorage.hasOwnProperty("onetime_events")&&e){var t=JSON.parse(localStorage.getItem("onetime_events")),n=e.time.split(" ")[0];t[n]&&(t[n]=t[n].filter((function(t){return t.time!==e.time||t.title!==e.title||e.description!==t.description})),localStorage.setItem("onetime_events",JSON.stringify(t)))}}(e),X(),Q("\u4e8b\u52a1\u201c".concat(e.title,"\u201d\u5df2\u5220\u9664")),A(!0),setTimeout((function(){A(!1)}),6e3)};return Object(a.jsxs)("div",{className:t.timeSection,children:[Object(a.jsxs)("div",{className:t.timeBlock,children:[Object(a.jsx)(f.a,{className:t.timeText,children:K(o.hour())}),Object(a.jsx)(f.a,{className:t.timeSubText,children:":"}),Object(a.jsx)(f.a,{className:t.timeText,children:K(o.minute())})]}),Object(a.jsxs)("div",{className:t.timeBlock,style:{marginTop:30},children:[Object(a.jsx)(f.a,{className:t.monthText,style:{marginRight:20},children:o.year()+" \u5e74"}),Object(a.jsx)(f.a,{className:t.monthText,children:o.month()+1+" \u6708"})]}),Object(a.jsx)("div",{className:t.calender,style:{marginTop:20},children:Object(a.jsx)(p.a,{style:{width:"100%"},classes:{indicator:t.tabIndicator},value:d,onChange:function(e,t){return function(e){j(e),k(Y(T()().add(e,"days").format("YYYY-MM-DD")))}(t)},children:U(o).map((function(e,n){return Object(a.jsx)(O.a,{title:Object(a.jsxs)("div",{children:[Object(a.jsx)(f.a,{className:t.toolTipText,children:"".concat(e.fullDate)}),0!==z[n]&&Object(a.jsx)(f.a,{className:t.toolTipText,style:{color:b},children:"".concat(z[n],"\u4e2a\u4e00\u6b21\u6027\u4e8b\u52a1")})]}),placement:"top",PopperProps:{className:t.popper},children:Object(a.jsx)(g.a,{className:t.tab,icon:Object(a.jsxs)("div",{style:{display:"flex",width:"100%",overflow:"visible"},children:[Object(a.jsx)(f.a,{style:{color:m,width:"100%",flexShrink:0},children:e.name+(0===n?"  (\u4eca\u65e5)":"")}),0!==z[n]&&Object(a.jsx)("div",{className:t.badge,style:{background:b}})]}),label:Object(a.jsx)(f.a,{style:{color:m,fontSize:24},children:e.date})},e.name+"-"+e.date)},e.name+"-"+e.date+"-tooltip")}))})}),Object(a.jsxs)("div",{className:t.eventsSection,children:[0===N.length?Object(a.jsx)(f.a,{style:{color:m,fontSize:20,width:"100%",textAlign:"center"},children:"\u4eca\u5929\u6ca1\u4e8b\u5e72\uff0c\u597d\u597d\u653e\u677e\u9e2d"}):Object(a.jsx)(f.a,{style:{color:b,fontSize:20,marginBottom:16,width:"100%",textAlign:"center"},children:"\u4eca\u5929\u6709".concat(N.length,"\u4ef6\u4e8b\u8981\u505a\uff0c\u51b2\u9e2d\uff01")}),N&&(V=N,V.sort((function(e,t){return T()(e.time).diff(T()(t.time))<0?-1:1}))).map((function(e){return Object(a.jsx)(O.a,{title:e.description,placement:"right",PopperProps:{className:t.popper},children:Object(a.jsxs)("div",{className:t.eventListItem,children:[Object(a.jsx)(f.a,{style:{color:m,fontSize:16,marginRight:12},children:T()(e.time).format("HH:mm")}),Object(a.jsx)(f.a,{style:{color:m,fontSize:16,flexGrow:1},children:e.title}),Object(a.jsx)(x.a,{className:t.deleteIconButton,onClick:function(){return Z(e)},children:Object(a.jsx)(w.a,{style:{width:20,height:20,color:m}})})]})},e.title+"-"+e.time+"-tooltip")}))]}),Object(a.jsx)("div",{className:t.addEventButton,children:Object(a.jsx)(x.a,{onClick:function(){return R(!0)},children:Object(a.jsx)(S.a,{style:{width:60,height:60,color:b}})})}),Object(a.jsx)(F,{onAdd:X,modalOpen:_,setModalOpen:R}),Object(a.jsx)(v.a,{className:t.snackbar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:L,message:q})]})},q=Object(d.a)({root:{background:j,height:"100vh",display:"flex",justifyContent:"space-around"}});var Q=function(){var e=q();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(W,{})})};var V=function(){return Object(a.jsx)(r.a,{children:Object(a.jsx)(l.c,{children:Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(Q,{})})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root")),X()}},[[116,1,2]]]);
//# sourceMappingURL=main.128220e7.chunk.js.map