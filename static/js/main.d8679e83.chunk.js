(this["webpackJsonplun-page"]=this["webpackJsonplun-page"]||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),i=n.n(c),o=n(13),r=n.n(o),s=n(83),l=n(15),d=n(151),u="#0D1B2A",j="#E0E1DD",m="#1B263B",h="#e39499",b=n(9),f=n(119),O=n(162),g=n(165),p=n(157),x=n(160),v=n(164),y=n(82),S=n.n(y),w=n(60),N=n.n(w),Y=n(81),k=n.n(Y),B=n(79),T=n.n(B),M=n(80),I=n.n(M),D=n(12),C=n.n(D),z=function(e){return localStorage.hasOwnProperty("onetime_events")&&JSON.parse(localStorage.getItem("onetime_events"))[e]||[]},_=function(){if(!localStorage.hasOwnProperty("onetime_events"))return[0,0,0,0,0,0,0];for(var e=C()(),t=[],n=JSON.parse(localStorage.getItem("onetime_events")),a=0;a<7;a++){var c=n[e.format("YYYY-MM-DD")];t.push(c?c.length:0),e.add(1,"days")}return t},P=function(e){if(localStorage.hasOwnProperty("onetime_events")&&e){var t=JSON.parse(localStorage.getItem("onetime_events")),n=e.id.split("_")[0];t[n]&&(t[n]=t[n].filter((function(t){return t.id!==e.id})),localStorage.setItem("onetime_events",JSON.stringify(t)))}},E=function(e){var t={};localStorage.hasOwnProperty("onetime_events")&&(t=JSON.parse(localStorage.getItem("onetime_events")));var n=e.id.split("_")[0];t[n]?t[n].push(e):t[n]=[e],localStorage.setItem("onetime_events",JSON.stringify(t))},R=n(85),J=n(153),W=n(163),H=n(156),L=n(166),A=n(159),F=n(84),X=n(19),G=n(161),q=Object(R.a)({palette:{secondary:{main:j},primary:{main:m}}}),K=Object(d.a)({modal:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},paper:{marginTop:"-17vh",width:"36%",maxHeight:"80vh",padding:24,background:u,border:"1px solid ".concat(j)},timePicker:{width:"100%","& input":{color:j,padding:12,fontSize:20,paddingLeft:0}},title:{fontSize:30,color:j,marginBottom:16},inputTitle:{fontSize:20,color:j,marginBottom:8},inputBase:{color:j,fontSize:16,padidng:12,width:"100%",borderBottom:"1px solid ".concat(j)},block:{marginBottom:24},buttons:{marginTop:36,display:"flex",justifyContent:"flex-end"},iconButton:{"&:hover":{background:m}},snackbar:{borderRadius:5,"& div":{background:h,padding:"8px 20px",fontSize:20}}});var U=function(e){var t=K(),n=e.modalOpen,i=e.setModalOpen,o=e.onAdd,r=e.selectedEvent,s=Object(c.useState)(C()()),l=Object(b.a)(s,2),d=l[0],u=l[1],m=Object(c.useState)(""),O=Object(b.a)(m,2),g=O[0],p=O[1],y=Object(c.useState)(""),S=Object(b.a)(y,2),w=S[0],Y=S[1],k=Object(c.useState)(),B=Object(b.a)(k,2),T=B[0],M=B[1],I=Object(c.useState)(!1),D=Object(b.a)(I,2),_=D[0],R=D[1],U=Object(c.useState)(""),Q=Object(b.a)(U,2),V=Q[0],Z=Q[1];Object(c.useEffect)((function(){n&&(r?(u(r.time),p(r.title),Y(r.description)):u(C()()),M(C()()))}),[n,r]);var $=function(){u(C()()),p(""),Y(""),i(!1)};return Object(a.jsxs)(J.a,{theme:q,children:[Object(a.jsx)(W.a,{className:t.modal,open:n,onClose:function(){return i(!1)},children:Object(a.jsxs)(H.a,{className:t.paper,style:{width:window.innerWidth<450?"100%":window.innerWidth<1050?450:void 0},children:[Object(a.jsx)(f.a,{className:t.title,children:r?"\u7f16\u8f91\u4e8b\u52a1":"\u6dfb\u52a0\u4e8b\u52a1"}),Object(a.jsxs)("div",{className:t.block,children:[Object(a.jsx)(f.a,{className:t.inputTitle,children:"\u6807\u9898"}),Object(a.jsx)(L.a,{value:g,placeholder:"\u5fc5\u586b\uff0c\u4e0d\u8d85\u8fc730\u5b57",onChange:function(e){e.target.value.length<=30&&p(e.target.value)},className:t.inputBase})]}),Object(a.jsxs)("div",{className:t.block,children:[Object(a.jsx)(f.a,{className:t.inputTitle,children:"\u5907\u6ce8"}),Object(a.jsx)(L.a,{value:w,placeholder:"\u5fc5\u586b\uff0c\u4e0d\u8d85\u8fc7200\u5b57",onChange:function(e){e.target.value.length<=200&&Y(e.target.value)},className:t.inputBase,multiline:!0,rows:4})]}),Object(a.jsxs)("div",{className:t.block,children:[Object(a.jsx)(f.a,{className:t.inputTitle,children:"\u65f6\u95f4"}),Object(a.jsx)(X.a,{utils:F.a,children:Object(a.jsx)(G.a,{className:t.timePicker,value:d,ampm:!1,onChange:u,minDate:T,format:"yyyy \u5e74 MM \u6708 dd \u65e5  HH \u65f6 mm \u5206",allowKeyboardControl:!1,InputProps:{endAdornment:Object(a.jsx)(A.a,{position:"end",style:{marginLeft:0},children:Object(a.jsx)(x.a,{className:t.iconButton,style:{padding:0,width:32,height:32},children:Object(a.jsx)(N.a,{style:{width:24,height:24,color:j}})})}),disableUnderline:!0}})})]}),Object(a.jsxs)("div",{className:t.buttons,children:[""!==g.trim()&&""!==w.trim()&&Object(a.jsx)(x.a,{onClick:function(){var e,t={time:C()(d).format("YYYY-MM-DD HH:mm"),description:w,title:g,id:C()(d).format("YYYY-MM-DD")+"_"+z(C()(d).format("YYYY-MM-DD")).length};r?(e=t,P(r),E(e)):E(t),Z("\u4e8b\u52a1\u201c".concat(r?r.title:g,"\u201d").concat(r?"\u66f4\u65b0":"\u521b\u5efa","\u6210\u529f\uff0c")+"\u7ea6".concat(C()(d).utc().diff(C()().utc(),"hours")>=24?Math.floor(C()(d).diff(C()(),"hours")/24)+"\u5929":"")+"".concat(C()(d).utc().diff(C()().utc(),"hours")%24,"\u5c0f\u65f6")+"".concat(C()(d).utc().diff(C()().utc(),"minutes")%60,"\u5206\u949f\u540e\u5f00\u59cb")),R(!0),setTimeout((function(){R(!1)}),6e3),o&&o(),$()},className:t.iconButton,style:{borderRadius:3,padding:"3px 12px",marginRight:12},children:Object(a.jsx)(f.a,{style:{fontSize:24,color:h},children:"\u786e\u5b9a"})}),Object(a.jsx)(x.a,{onClick:$,className:t.iconButton,style:{borderRadius:3,padding:"3px 12px"},children:Object(a.jsx)(f.a,{style:{fontSize:24,color:j},children:"\u53d6\u6d88"})})]})]})}),Object(a.jsx)(v.a,{className:t.snackbar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:_,message:V})]})},Q=Object(d.a)({timeSection:{paddingTop:"2.5vh",height:"97.5vh",display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%"},timeText:{fontSize:80,letterSpacing:10,color:j,height:93},timeBlock:{display:"flex",alignItems:"flex-end"},timeSubText:{fontSize:42,color:j,marginRight:8},monthText:{fontSize:36,latterSpacing:5,color:j},calender:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},tabIndicator:{background:j},tab:{minWidth:60,padding:6,"&:hover":{background:m}},popper:{"& div":{background:m,padding:8}},toolTipText:{fontSize:13.75,color:j},eventsSection:{marginTop:30,width:"100%",flexGrow:1,overflow:"scroll","&::-webkit-scrollbar":{width:0}},badge:{width:10,height:10,borderRadius:5,flexShrink:0,marginLeft:-6,marginTop:-3},eventListItem:{display:"flex",alignItems:"center",cursor:"pointer",padding:12,borderBottom:"1px solid ".concat(m),"&:hover":{background:m}},addEventButton:{width:"100%",height:"20%",display:"flex",justifyContent:"center",alignItems:"flex-start"},deleteIconButton:{"&:hover":{background:h}},snackbar:{borderRadius:5,"& div":{background:h,padding:"8px 20px",fontSize:20}},tabScrollButton:{color:j,"& svg":{fontSize:32}}}),V=function(e){return 1===(e+"").length?"0"+e:e+""},Z=function(e){if(!e)return[];for(var t=e.day(),n=[],a=function(e){switch(e%7){case 0:return"\u65e5";case 1:return"\u4e00";case 2:return"\u4e8c";case 3:return"\u4e09";case 4:return"\u56db";case 5:return"\u4e94";case 6:return"\u516d";default:return""}},c=0;c<7;c++)n[c]={name:a(c+t),date:C()().add(c,"days").date(),fullDate:C()().add(c,"days").format("YYYY\u5e74MM\u6708DD\u65e5")};return n};var $=function(e){var t=Q(),n=Object(c.useState)(C()()),i=Object(b.a)(n,2),o=i[0],r=i[1],s=Object(c.useState)(0),l=Object(b.a)(s,2),d=l[0],u=l[1],m=Object(c.useState)([]),y=Object(b.a)(m,2),w=y[0],Y=y[1],B=Object(c.useState)([0,0,0,0,0,0,0]),M=Object(b.a)(B,2),D=M[0],E=M[1],R=Object(c.useState)(!1),J=Object(b.a)(R,2),W=J[0],H=J[1],L=Object(c.useState)(!1),A=Object(b.a)(L,2),F=A[0],X=A[1],G=Object(c.useState)(""),q=Object(b.a)(G,2),K=q[0],$=q[1],ee=Object(c.useState)(),te=Object(b.a)(ee,2),ne=te[0],ae=te[1];Object(c.useEffect)((function(){E(_()),Y(z(C()().add(0,"days").format("YYYY-MM-DD"))),setInterval((function(){var e=C()();r(e)}),[500])}),[]);var ce,ie=function(){Y(z(C()().add(d,"days").format("YYYY-MM-DD"))),E(_())};return Object(a.jsxs)("div",{className:t.timeSection,children:[Object(a.jsxs)("div",{className:t.timeBlock,children:[Object(a.jsx)(f.a,{className:t.timeText,children:V(o.hour())}),Object(a.jsx)(f.a,{className:t.timeSubText,children:":"}),Object(a.jsx)(f.a,{className:t.timeText,children:V(o.minute())})]}),Object(a.jsxs)("div",{className:t.timeBlock,style:{marginTop:30},children:[Object(a.jsx)(f.a,{className:t.monthText,style:{marginRight:20},children:o.year()+" \u5e74"}),Object(a.jsx)(f.a,{className:t.monthText,children:o.month()+1+" \u6708"})]}),Object(a.jsx)("div",{className:t.calender,style:{marginTop:20},children:Object(a.jsx)(O.a,{style:{width:"100%",maxWidth:"100%"},classes:{indicator:t.tabIndicator,scrollButtons:t.tabScrollButton},value:d,scrollButtons:"on",variant:window.innerWidth<500?"scrollable":"fullWidth",onChange:function(e,t){return function(e){u(e),Y(z(C()().add(e,"days").format("YYYY-MM-DD")))}(t)},children:Z(o).map((function(e,n){return Object(a.jsx)(g.a,{title:Object(a.jsxs)("div",{children:[Object(a.jsx)(f.a,{className:t.toolTipText,children:"".concat(e.fullDate)}),0!==D[n]&&Object(a.jsx)(f.a,{className:t.toolTipText,style:{color:h},children:"".concat(D[n],"\u4e2a\u4e00\u6b21\u6027\u4e8b\u52a1")})]}),placement:"top",PopperProps:{className:t.popper},children:Object(a.jsx)(p.a,{className:t.tab,icon:Object(a.jsxs)("div",{style:{display:"flex",width:"100%",overflow:"visible"},children:[Object(a.jsx)(f.a,{style:{color:j,width:"100%",flexShrink:0},children:e.name+""}),0!==D[n]&&Object(a.jsx)("div",{className:t.badge,style:{background:h}})]}),label:Object(a.jsx)(f.a,{style:{color:j,fontSize:24},children:e.date})},e.name+"-"+e.date)},e.name+"-"+e.date+"-tooltip")}))})}),Object(a.jsxs)("div",{className:t.eventsSection,children:[0===w.length?Object(a.jsx)(f.a,{style:{color:j,fontSize:20,width:"100%",textAlign:"center"},children:"\u4eca\u5929\u6ca1\u4e8b\u5e72\uff0c\u597d\u597d\u653e\u677e\u9e2d"}):Object(a.jsx)(f.a,{style:{color:h,fontSize:20,marginBottom:16,width:"100%",textAlign:"center"},children:"\u4eca\u5929\u6709".concat(w.length,"\u4ef6\u4e8b\u8981\u505a\uff0c\u51b2\u9e2d\uff01")}),w&&(ce=w,ce.sort((function(e,t){return C()(e.time).diff(C()(t.time))<0?-1:1}))).map((function(e){return Object(a.jsx)(g.a,{title:e.description,placement:"left",PopperProps:{className:t.popper},children:Object(a.jsxs)("div",{className:t.eventListItem,children:[0===d&&C()().diff(C()(e.time),"minutes")>0?Object(a.jsx)(T.a,{style:{width:24,height:24,color:h}}):Object(a.jsx)(I.a,{style:{width:24,height:24,color:j}}),Object(a.jsx)(f.a,{style:{color:j,fontSize:16,marginRight:12,marginLeft:12},children:C()(e.time).format("HH:mm")}),Object(a.jsx)(f.a,{style:{color:j,fontSize:16,flexGrow:1},children:e.title}),Object(a.jsx)(x.a,{className:t.deleteIconButton,onClick:function(){return ae(e),void H(!0)},children:Object(a.jsx)(N.a,{style:{width:20,height:20,color:j}})}),Object(a.jsx)(x.a,{className:t.deleteIconButton,onClick:function(){return P(t=e),ie(),$("\u4e8b\u52a1\u201c".concat(t.title,"\u201d\u5df2\u5220\u9664")),X(!0),void setTimeout((function(){X(!1)}),6e3);var t},children:Object(a.jsx)(k.a,{style:{width:20,height:20,color:j}})})]})},e.id)}))]}),Object(a.jsx)("div",{className:t.addEventButton,children:Object(a.jsx)(x.a,{onClick:function(){ae(),H(!0)},children:Object(a.jsx)(S.a,{style:{width:60,height:60,color:h}})})}),Object(a.jsx)(U,{onAdd:ie,modalOpen:W,setModalOpen:H,selectedEvent:ne}),Object(a.jsx)(v.a,{className:t.snackbar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:F,message:K})]})},ee=n(30),te=Object(d.a)({root:{flexGrow:1}}),ne=function(e){return{position:"absolute",left:e.x-10,top:e.y,width:20,textAlign:"center",color:j}},ae=window.innerHeight;var ce=function(){var e=te(),t=Object(c.useRef)(),n=Object(c.useRef)(),i=Object(c.useState)(),o=Object(b.a)(i,2),r=o[0],s=o[1],l=Object(c.useState)(-1),d=Object(b.a)(l,2),u=d[0],j=d[1];return Object(c.useEffect)((function(){t.current=[],setInterval((function(){var e=n.current.getBoundingClientRect().left,a=n.current.getBoundingClientRect().right;!function(e,t){for(var n=e.num,a=void 0===n?1:n,c=e.minX,i=e.maxX,o=0;o<a;o++){var r={velocity:1,x:Math.floor(c+(i-c)*Math.random()),y:0,acc:.05,text:Math.random()<.5?"0":"1"};t.push(r)}}({num:Math.floor(2*Math.random()),minX:e,maxX:a},t.current)}),250),setInterval((function(){!function(e){if(0===e.length)return!0;for(var t=0;t<e.length;t++){var n=e[t];n.y+=n.velocity,n.velocity+=n.acc,n.y>ae&&e.splice(t,1)}s(Object(ee.a)(e))}(t.current)}),10)}),[]),Object(c.useEffect)((function(){u<0||u>=1||setTimeout((function(){return j(u+.01)}),10)}),[u]),Object(a.jsx)("div",{className:e.root,ref:n,children:r&&r.map((function(e,t){return Object(a.jsx)("div",{style:ne(e),children:e.text},"squre-".concat(t))}))})},ie=Object(d.a)({root:{background:u,height:"100vh",display:"flex",justifyContent:"space-around"}});var oe=function(){var e=ie();return Object(c.useEffect)((function(){!function(){if(localStorage.hasOwnProperty("onetime_events")){var e=JSON.parse(localStorage.getItem("onetime_events")),t={},n=C()().add(-7,"days").format("YYYY-MM-DD");Object.keys(e).forEach((function(a){a<n||(t[a]=e[a])})),localStorage.setItem("onetime_events",JSON.stringify(t))}}()}),[]),Object(a.jsxs)("div",{className:e.root,children:[window.innerWidth>700&&Object(a.jsx)(ce,{}),Object(a.jsx)($,{}),window.innerWidth>700&&Object(a.jsx)(ce,{})]})};var re=function(){return Object(a.jsx)(s.a,{children:Object(a.jsx)(l.c,{children:Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(oe,{})})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(re,{})}),document.getElementById("root")),se()}},[[118,1,2]]]);
//# sourceMappingURL=main.d8679e83.chunk.js.map